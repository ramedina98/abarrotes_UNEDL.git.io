<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Todas estas son las meta etiquetas principales que debe de llebar una pagina web... -->
    <meta charset="UTF-8">
    <meta name="author" content="Ricardo Abraham Medina Martin Del Campo">
    <meta name="description" content="Encuentra productos frescos y de calidad
    en nuestra tienda de abarrotes. Ofrecemos una amplia variedad de alimentos, productos básicos
    y deliciosos ingredientes para satisfacer tus necesidades diarias. ¡Visítanos y 
    descubre la conveniencia de la compra en nuestra tienda de abarrotes!">
    <meta name="keywords" content="Abarrotes, tienda de alimentos, comestibles, productos basicos, alimentos frescos,
    supermercado local, compra de viveres, ingredientes de cocina, tienda de comestibles,
    alimentos de calidad,tienda de abastecimiento, compras diarias, alimentacion saludable, variedad de alimentos, 
    HTML5, css, javascript, PHP">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cache_control" content="no-cache">
    <!-- Here I have to writte an base tag -->
    <title>Abarrotes UNEDL || Compras</title>
    <!--icon-->
    <link rel="icon" href="image/logo.ico">
    <!--css-->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="responsive.css">
    <!--Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!--JS-->
    <script src="logic.js" defer></script>
    <script src="cart.js" defer></script>
    <!--bootstrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!--Fonts-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <!--Jquery-->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>
    <!--here we have the preview of the shoping cart...-->
    <section class="shopping_cart_cont" id="shopping_cart">
        <div class="header_cart">
            <span>Abarrotes UNEDL</span>
            <span class="conter_products">Productos: <b id="n">0</b></span>
        </div>
        <div class="main_cart">
            <!--<div class="producto">
                <div class="img_cont_pro">
                    <img src="https://ayudabartender.com/cdn/shop/products/Sabritas170g_1000x.jpg?v=1610842257" alt="producto">
                </div>
                <div class="info_pro">
                    <div class="descripcion">
                        <span>Sabritas naturales 245 grs</span>
                    </div>
                    <div class="precio_btn_cont">
                        <div class="precio">
                            <span>Precio: $20</span>
                        </div>
                        <div class="btn_eliminar_cont">
                            <button id="eliminar">Eliminar</button>
                        </div>
                    </div>
                </div>
            </div>-->
        </div>
        <div class="cont_btn_buy">
            <a href="#tickect" id="buy_btn">Comprar</a>
            <button class="delate_all_btn">Limpiar carrito</button>
        </div>
    </section>
    <header id="home">
        <div class="shopping_cart_cont_icon move" id="buy">
            <div class="cart">
                <span class="icon"><i class='bx bxs-cart-alt' id="carrito"></i></span><span class="conter"> 0 carrito</span>
            </div>
        </div>
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <div class="navbar-brand" id="cont_brand_img">
                    <img src="image/Abarrotes.png" alt="Brand of the store">
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0" id="lista">
                    <li class="nav-item">
                    <a class="nav-link active text-white" aria-current="page" href="" id="inicio">Inicio</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link text-white" href="#">Nosotros</a>
                    </li>
                    <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Trabajos
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Contratacion inmediate</a></li>
                        <li><a class="dropdown-item" href="#">Reparto</a></li>
                        <li><a class="dropdown-item" href="#">Comicionista</a></li>
                    </ul>
                    </li>
                </ul>
                <form class="d-flex" role="search">
                    <input class="form-control me-2" id="searchInput" type="search" placeholder="Productos" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit" id="searchBtn">Search</button>
                </form>
                </div>
            </div>
        </nav>
    </header>
    <main id="mainCont">
        <!--this is just gonna appears when we click on comprar btn...-->
    </main>
    <footer>
        <div class="inicio_pagina" id="scrollToTop">
            <span>Inicio de pagina</span>
        </div>
        <div class="more_links">
            <div class="cont_ul">
                <ul>
                    <li class="title">Conócenos</li>
                    <li>Trabajar en abarrotes UNEDL</li>
                    <li>Información corporativa</li>
                    <li>Departamento de prensa</li>
                    <li>Scince</li>
                </ul>
            </div>
            <div class="cont_ul">
                <ul>
                    <li class="title">Gana dinero con nosotros</li>
                    <li>Vender en tienda</li>
                    <li>Suministro para la tienda</li>
                    <li>Protege y desarrolla tu marca</li>
                    <li>Vender en onle handmade</li>
                    <li>Programa de afiliados</li>
                    <li>Anuncia tus productos</li>
                </ul>
            </div>
            <div class="cont_ul">
                <ul>
                    <li class="title">Podemos ayudarte</li>
                    <li>Devolver o reemplazar productos</li>
                    <li>Gestionar contenido y dispositivos</li>
                    <li>Ayuda</li>
                </ul>
            </div>
            <div class="cont_ul">
                <ul>
                    <li class="title">Métodos de pago</li>
                    <li>Tarjetas de crédito y débito</li>
                    <li>Tarjetas de regalo</li>
                    <li>Pago en efectivo</li>
                    <li>Pago a meses</li>
                    <li>Amazon Cash</li>
                </ul>
            </div>
        </div>
        <div class="world">
            <ul>
                <li>Australia</li>
                <li>Alemania</li>
                <li>Brasil</li>
                <li>Canadá</li>
                <li>China</li>
                <li>España</li>
                <li>Estados Unidos</li>
                <li>Francia</li>
                <li>India</li>
                <li>Italia</li>
                <li>Japón</li>
                <li>Países/Regiones Bajos</li>
                <li>Reino Unido</li>
                <li>Singapur</li>
                <li>Turquía</li>
            </ul>
        </div>
        <div class="legales_cont">
            <div class="cont_">
                <a href="" target="_blank">Condiciones de uso</a>
            </div>
            <div class="cont_">
                <a href="" target="_blank">Aviso de privacidad</a>
            </div>
            <div class="cont_">
                <a href="">© 1996-2023, Abarrotes.com, Inc. o sus afiliados</a>
            </div>
        </div>
    </footer>
</body>
<!--Jquery here-->
<script type="text/javascript">
    //here we gonna get all the information from the json file...
    $(document).ready(function(){
        //go to the header again...
        $('#scrollToTop').click(function(e) {
            e.preventDefault(); 

            $('html, body').animate({scrollTop: 0}, 'slow');
        });

        $.getJSON('tienda.json', function(data){
            //acceder a los datos del json...
            var jsonData = data.productos;
            $.each(jsonData, function(i, item){
                $('#mainCont').append(`<section>
                                            <div class="img_cont">
                                                <img src="${item.img}" alt="">
                                            </div>
                                            <div class="info_cont">
                                                <div class="description">
                                                    <h2>${item.title}</h2>
                                                    <p>${item.Descriptcion}</p>
                                                </div>
                                                <div class="precio_marca">
                                                    <div><span>${item.Marca}</span></div>
                                                    <div><span>${`$`+item.Precio}</span></div>
                                                </div>
                                                <input type="text" value="${item.id}" hidden>
                                                <button class="productoBtn"><i class='bx bx-cart-add'></i></button>
                                            </div>
                                        </section>`);
            });
            //here we are gona searchs... 
            $('#searchInput').on('keyup', function(){
                //en minisculas...
                var searchText = $(this).val().toLowerCase();
                //filtramos los datos que coincidan con el texto de busqueda...
                var filtereData = jsonData.filter(function(item){
                    return item.Descriptcion.toLowerCase().includes(searchText);
                });
                //show the results...
                displayResults(filtereData);
            });
            //this is the function to show the results...
            function displayResults(results){
                var rasultContainer = $('#mainCont'); 
                rasultContainer.empty();
                console.log(results)
                if (results.length > 0) {
                    results.forEach(function (item) {
                        rasultContainer.append(`<section>
                            <div class="img_cont">
                                <img src="${item.img}" alt="">
                            </div>
                            <div class="info_cont">
                                <div class="description">
                                    <h2>${item.title}</h2>
                                    <p>${item.Descriptcion}</p>
                                </div>
                                <div class="precio_marca">
                                    <div><span>${item.Marca}</span></div>
                                    <div><span>${`$` + item.Precio}</span></div>
                                </div>
                                <input type="text" value="${item.id}" hidden>
                                <button class="productoBtn"><i class='bx bx-cart-add'></i></button>
                            </div>
                        </section>`);
                    });
                } else {
                    rasultContainer.append(`<img src="image/alerta.png" alt="Alerta producto no encontrado">`);
                }
            }
        });

        //we go to the next step before buy everything...
        /*$('#buy_btn').click(function() {
            $('#mainCont').empty();
            $('#mainCont').load('components/form.html');
            $('#shopping_cart').css('display', 'none');
        });*/
    })
</script>
</html>